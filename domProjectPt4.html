<!DOCTYPE html>
<html>
<title>Matching Game</title>
<style type="text/css">
	div {
		display: inline-block;
		width: 500px;
		height: 500px;
		position: absolute;
	}
	#rightSide {
		border-left: 2px solid black;
		left: 500px;
	}
	img {
		position: absolute;
	}
	
</style>
<body onload="generateFaces()">
	<h1>Matching Game</h1>
		<p>Click on the extra smiling face on the left.</p>
	<br />
		<div id="leftSide"></div>

		<div id="rightSide"></div>
	
<script type="text/javascript">

	var numberOfFaces = 5;
	var theLeftSide = document.getElementById("leftSide");
	var theRightSide = document.getElementById("rightSide");
	var theBody = document.getElementsByTagName("body")[0];

	function generateFaces() {
		for (var i = 1; i <= numberOfFaces; i++) {
			var positionTop = Math.floor(Math.random() * 401);
			var positionLeft = Math.floor(Math.random() * 401);
			var image = document.createElement("img");
			image.style.top = positionTop + "px";
			image.style.left = positionLeft + "px";
			image.setAttribute("src", "https://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png");
    		image.setAttribute("id", "smile");
			theLeftSide.appendChild(image);
			smileImage = document.getElementById("smile");
		} 
		leftSideImages = theLeftSide.cloneNode(true);
		leftSideImages.removeChild(leftSideImages.lastChild);
		theRightSide.appendChild(leftSideImages);

		var leftObject = theLeftSide.lastChild;
			leftObject.onclick = function(){
	        event.stopPropagation();
	        var clearFacesLeft = document.getElementById("leftSide");
	        while (clearFacesLeft.firstChild)
	        	clearFacesLeft.removeChild(clearFacesLeft.firstChild);
	        var clearFacesRight = document.getElementById("rightSide");
	        while (clearFacesRight.firstChild)
	        	clearFacesRight.removeChild(clearFacesRight.firstChild);
	        numberOfFaces += 5;
	        generateFaces();
		};
	}


	theBody.onclick = function gameOver() {
    	alert("Game Over!");
    	theBody.onclick = null;
    	theLeftSide.lastChild.onclick = null;
	}; 



</script>
</body>

</html>